# 2022. 04. 16.

## Elasticsearch(7.10)

### 매핑 - 필드 데이터 타입

#### 숫자 필드 타입

다음 숫자 필드 타입이 지원된다:

| 필드 타입       | 설명                                                         |
| --------------- | ------------------------------------------------------------ |
| `long`          | 부호 있는 64비트 정수로, 최솟값은 -2<sup>63</sup>이고 최댓값은 2<sup>63-1</sup> 이다. |
| `integer`       | 부호 있는 32비트 정수로, 최솟값은 -2<sup>31</sup>이고 최댓값은 2<sup>31- 1</sup>이다. |
| `short`         | 부호 있는 16비트 정수로, 최솟값은 `-32,768`이고 최댓값은 `32,767`이다. |
| `byte`          | 부호 있는 8비트 정수로, 최솟값은 `-128`이고 최댓값은 `127`이다. |
| `double`        | 배정밀도 64비트 IEEE 754 부동소수로, 유한한 값으로 한정된다. |
| `float`         | 단정밀도 32비트 IEEE 754 부동소수로, 유한한 값으로 한정된다. |
| `half_float`    | 반정밀도 16비트 IEEE 754 부동소수로, 유한한 값으로 한정된다. |
| `scaled_float`  | `long`을 기반으로 한 부동소수로, `double` 스케일링 팩터에 의해 스케일된다. |
| `unsigned_long` | 부호 없는 64비트 정수로, 최솟값은 0이고 최댓값은 2<sup>64-1</sup>이다. |

아래는 숫자 필드로 매핑을 구성하는 예제이다:

```http
PUT my-index-000001
{
  "mappings": {
    "properties": {
      "number_of_bytes": {
        "type": "integer"
      },
      "time_in_seconds": {
        "type": "float"
      },
      "price": {
        "type": "scaled_float",
        "scaling_factor": 100
      }
    }
  }
}
```

> `double`, `float`, `half_float` 타입은 `-0.0`과 `+0.0`을 서로 다른 값으로 인식한다. 결과적으로 `-0.0`에 대한 텀 쿼리는 `+0.0`에 일치하지 않으며, 그 반대도 마찬가지다. 범위 쿼리에도 동일하게 적용된다. 상한이 `-0.0`이면 `+0.0`에는 일치하지 않으며 하한이 `+0.0`이면 `-0.0`에 일치하지 않는다.

