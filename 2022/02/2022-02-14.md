## 2022. 02. 14.

#### Elasticsearch(7.10)

#### 인덱스 모듈 - 히스토리 유지

##### 히스토리 유지 설정

**`index.soft_deletes.enabled`**
	(7.6.0에서 deprecated, 소프트 삭제가 비활성화된 채로 인덱스를 생성하는 것은 deprecate됐으며 추후에 제거될 예정) 인덱스에 대해 소프트 삭제를 활성화할지 여부를 나타낸다. 소프트 삭제는 Elasticsearch 6.5.0 이후 버전에 생성된 인덱스에 대해 인덱스 생성 시에만 구성할 수 있다. 기본값은 `true`이다.

**`index.soft_deletes.retention_lease.period`**
	만료된 것으로 간주되기까지 샤드 히스토리 유지 임대를 유지할 최대 기간. 샤드 히스토리 유지 임대는 Lucene 인덱스를 병합하는 동안 소프트 삭제가 유지됨을 보장한다. 소프트 삭제가 팔로워에게 복제될 수 있게 되기 전에 병합되면 리더의 히스토리가 완전하지 않아 팔로잉 프로세스가 실패할 것이다. 기본값은 `12h`이다.