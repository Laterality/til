# 2025-10-02

## Envoy

### 아키텍처 개요

#### 관측성

##### 트레이싱

###### 서로 다른 유형의 스팬

이전 단락에서 언급했듯, 트레이스는 서로 다른 유형일 수도 있는 하나 이상의 스팬으로 구성된다. 다른 것들 중에서도 SkyWalking, Zipkin, OpenTelemetry와 같은 트레이싱 시스템들은 같거나 유사한 스팬 유형을 제공한다. 가장 흔한 유형은 CLIENT와 SERVER다. CLIENT 유형은 서버로 보내지는 요청에 대해 클라이언트에서 생성되고, SERVER 유형은 클라이언트로부터 수신한 요청에 대해 서버에서 생성된다.

기본적인 트레이스 체인은 다음 스니펫과 같다. 주로 서버 스팬의 부모 스팬은 클라이언트 스팬이 된다. 체인의 모든 홉(hop)은 스팬 유형의 정확성을 보장해야 한다.

```
-> [SERVER -> CLIENT] -> [SERVER -> CLIENT] -> ...
          App A                 App B
```
