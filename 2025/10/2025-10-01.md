# 2025-10-01

## Envoy

### 아키텍처 개요

#### 관측성

##### 트레이싱

###### 배기지(baggage)

배기지는 데이터가 하나의 트레이스 전체에서 사용 가능하도록 하는 메커니즘을 제공한다. 태그와 같은 메타데이터는 주로 컬렉터와 따로 소통하지만 배기지 데이터는 실제 요청 컨텍스트에 주입되고 요청 기간동안 애플리케이션에서 사용할 수 있다. 이는 전파를 위해 애플리케이션에 특화된 변형에 의존하지 않고 전체 메시에서 요청의 시작부터 메타데이터가 투명하게 이동할 수 있게 한다. 배기지에 대한 자세한 내용은 [OpenTelemetry의 문서][otel-baggage]를 참고하라.

트레이싱 제공자는 배기지 획득과 설정을 위해 다양한 수준의 지원을 제공한다:

* LightStep(과 OpenTelemetry 호환 트레이서)은 배기지 읽기/쓰기가 가능하다.
* Zipkin 지원은 아직 구현되지 않았다.
* X-Ray와 Fluentd는 배기지를 지원하지 않는다.

[otel-baggage]: https://opentelemetry.io/docs/concepts/signals/baggage/
