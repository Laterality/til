# 2025-12-02

## Envoy

### 아키텍처 개요

#### 기타 프로토콜

##### Redis

###### 구성

필터 구성 상세 정보는 Redis 프록시 필터 [구성 레퍼런스][config-listener-snetwork-filters-redis-proxy]를 참고하라.

해당하는 클러스터 정의는 [링 해시 로드 밸런싱][api-clusters-cluster-configuration]으로 구성돼야 한다.

[능동적 헬스 체킹][arch-upstream-clusters-health-checking]이 필요한 경우 클러스터가 [Redis 헬스 체커][config-upstream-clusters-health-checkers-redis]로 구성된 [커스텀 헬스 체킹][api-clusters-health-check-health-check-custom-health-check]으로 구성돼야 한다.

수동적 헬스 체킹이 필요한 경우 [아웃라이어 감지][arch-upstream-clusters-outlier-detection]를 구성한다.

수동적 헬스 체킹의 목적은 연결 타임아웃, 커맨드 타임아웃, 커넥션 닫힘을 5xx로 매핑한다. 다른 나머지 모든 Redis 응답들은 성공으로 간주된다.

[config-listener-snetwork-filters-redis-proxy]: https://www.envoyproxy.io/docs/envoy/latest/configuration/listeners/network_filters/redis_proxy_filter#config-network-filters-redis-proxy
[api-clusters-cluster-configuration]: https://www.envoyproxy.io/docs/envoy/latest/api-v3/config/cluster/v3/cluster.proto#envoy-v3-api-field-config-cluster-v3-cluster-lb-policy
[arch-upstream-clusters-health-checking]: https://www.envoyproxy.io/docs/envoy/latest/intro/arch_overview/upstream/health_checking#arch-overview-health-checking
[config-upstream-clusters-health-checkers-redis]: https://www.envoyproxy.io/docs/envoy/latest/configuration/upstream/health_checkers/redis#config-health-checkers-redis
[api-clusters-health-check-health-check-custom-health-check]: https://www.envoyproxy.io/docs/envoy/latest/api-v3/config/core/v3/health_check.proto#envoy-v3-api-field-config-core-v3-healthcheck-custom-health-check
[arch-upstream-clusters-outlier-detection]: https://www.envoyproxy.io/docs/envoy/latest/intro/arch_overview/upstream/outlier#arch-overview-outlier-detection
