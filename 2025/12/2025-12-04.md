# 2025-12-04

## Envoy

### 아키텍처 개요

#### 기타 프로토콜

##### Redis

###### 지원되는 커맨드

프로토콜 수준에서 파이프라인이 지원된다. 최선의 성능을 위해 가능하면 파이프라인을 사용하라.

커맨드 수준에서, Envoy는 서버에 안정적으로 해시되는 커맨드만 지원한다. AUTH, PING, ECHO, INFO만이 예외다. 다운스트림 패스워드가 구성되면 AUTH는 Envoy에 의해 로컬에서 처리되며 패스워드가 구성되면 인증이 성공하기 전까지 다른 커맨드는 처리되지 않는다. 외부 인증 제공자가 설정된 경우 Envoy는 인증 인자를 외부 서비스로 보내고 인증 응답에 따라 동작한다. 다운스트림 패스워드가 외부 인증과 함께 설정된 경우, 유효성 검증은 여전히 외부에서 이뤄지며 다운스트림 패스워드는 업스트림 인증에 사용된다. 업스트림 인증 패스워드가 클러스터에 대해 구성되면 Envoy는 업스트림 서버에 연결시 투명하게 AUTH 커맨드를 실행한다. Envoy는 PING에 즉시 PONG으로 응답한다. PING에 대한 인자는 허용되지 않는다. Envoy는 ECHO에 커맨드 인자와 함께 즉시 응답한다. 지원되는 다른 모든 커맨드는 키를 가져야 한다. 지원되는 커맨드는 실패 시나리오를 제외하고 원본 Redis와 동일하게 기능한다.

각 커맨드의 세부 사항은 공식 [Redis 커맨드 레퍼런스][redis-commands]를 참고하라.

[redis-commands]: https://redis.io/docs/latest/commands/
