# 2025-11-27

## Envoy

### 아키텍처 개요

#### 기타 프로토콜

##### gRPC

###### gRPC 브릿징

Envoy는 여러 gRPC 브릿지를 지원한다:

* [grpc_http1_bridge_filter][config-http-http-filters-grpc-http-1-1-bridge]는 HTTP/1.1을 통해 gRPC 요청을 Envoy로 보낼 수 있게 한다. 이후 Envoy는 대상 서버로 전송하기 위해 요청을 HTTP/2나 HTTP/3로 변환한다. 응답은 다시 HTTP/1.1로 변환된다. 설치되면 전역 HTTP 통계 외에도 브릿지 필터가 RPC 별 통게를 수집한다.
* [grpc_http1_reverse_bridge_filter][config-http-http-filters-grpc-http-1-1-reverse-bridge]는 gRPC 요청이 Envoy로 보내질 수 있게 하고 업스트림에 보낼 때 이를 HTTP/1.1로 변환한다. 응답은 다운스트림으로 보내질 때 다시 gRPC로 변환된다. 이 필터는 선택적으로 gRPC 프레임 헤더를 관리해 업스트림이 gRPC를 전혀 인지하지 못하게 할 수도 있다.
* [connect_grpc_bridge_filter][config-http-http-filters-connect-grpc-bridge]는 Connect 요청이 Envoy로 보내질 수 있게 한다. 이후 Envoy는 요청을 gRPC로 변환해 업스트림으로 보내지게 한다. 응답은 다시 Connect 프로토콜로 변환돼 다운스트림으로 보내진다. HTTP/1.1 요청은 필요한 경우 HTTP/2나 HTTP/3으로 업그레이드된다.

[config-http-http-filters-grpc-http-1-1-bridge]: https://www.envoyproxy.io/docs/envoy/latest/configuration/http/http_filters/grpc_http1_bridge_filter#config-http-filters-grpc-bridge
[config-http-http-filters-grpc-http-1-1-reverse-bridge]: https://www.envoyproxy.io/docs/envoy/latest/configuration/http/http_filters/grpc_http1_reverse_bridge_filter#config-http-filters-grpc-http1-reverse-bridge
[config-http-http-filters-connect-grpc-bridge]: https://www.envoyproxy.io/docs/envoy/latest/configuration/http/http_filters/connect_grpc_bridge_filter#config-http-filters-connect-grpc-bridge
