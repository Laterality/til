# 2025. 04. 19.

## Reactor 3 Reference Guide

### 고급 기능과 개념

#### 전역 훅 사용

##### 1. 드로핑(dropping) 훅

드로핑 훅은 연산자의 소스가 리액티브 스트림즈 명세를 준수하지 않을 때 호출된다. 이 유형의 오류는 일반적인 실행 경로 바깥에 있다(즉, `onError`를 통해 전파되지 않는다).

일반적으로 `Publisher`는 이전에 이미 `onCompleted`를 호출했어도 `onNext`를 호출한다. 이 경우 `onNext` 값은 버려진다(dropped). 관계 없는 `onError` 신호도 마찬가지다.

해당하는 훅 `onNextDropped`와 `onErrorDropped`로 이러한 드롭에 대한 전역 `Consumer`를 제공할 수 있다. 예를 들어, 이를 사용해 드롭된 값을 로깅하고 (리액티브 체인의 나머지에는 도달하지 않으므로)필요한 경우 관련된 리소스를 정리할 수 있다.

한 행에 훅을 두 번 정의하면 더해져서 제공한 모든 컨슈머가 호출된다. `Hooks.resetOn*Dropped()` 메서드를 사용해 혹을 완전히 기본값으로 초기화할 수 있다.
