# 2025. 01. 29.

## Reactor 3 Reference Guide

### 리액티브 프로그래밍 소개

#### 3. 명령형에서 리액티브 프로그래밍으로

##### 3.5. 배압(backpressure)

업스트림에 신호를 전파하는 것은 앞의 조립 공정 비유에서 작업대 처리가 업스트림 작업대보다 느릴 때 위쪽 공정으로 피드백 신호를 보내는데 사용하는 것으로 설명한 **배압**(backpressure)을 구현하는 데에도 쓰인다.

리액티브 스트림즈 명세에 정의된 실제 메커니즘은 이 비유에 꽤 가깝다. 구독자는 *바운드되지 않은*(unbounded) 모드로 동작해 소스가 모든 데이터를 가능한 빨리 푸시하도록 하거나 `request` 메커니즘을 사용해 소스에 최대 `n`개 요소를 처리할 준비가 됐다는 신호를 보낼 수 있다.

중간 연산자 또한 가운데에서 요청을 바꿀 수 있다. 열 개의 요소를 배치로 그룹화하는 `buffer` 연산자를 생각해보자. 구독자가 버퍼 하나를 요청하면 소스에서 보내는 열 개의 요소를 받을 수 있다. 일부 연산자도 `request(1)` 라운드 트립을 피하고 요청받기 전에 요소를 준비하는 비용이 그다지 크지 않다면 유익한 **사전 인출**(prefetching) 전략을 구현한다.

이는 푸시 모델을 **푸시-풀 하이브리드**로 변환한다. 다운스트림은 준비가 되면 업스트림에서 n개 요소를 가져간다(pull). 하지만 요소가 준비되지 않으면 업스트림에서 만들어지는대로 푸시된다.

