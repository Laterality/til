# 2025-06-15

## Envoy

### 아키텍처 개요

#### HTTP

##### HTTP 커넥션 관리

###### HTTP 프로토콜

Envoy의 HTTP 커넥션 관리자는 **WebSockets**을 포함한 **HTTP/1.1**, **HTTP/2**, **HTTP/3**에 대한 네이티브 지원을 가지고 있다.

Envoy의 HTTP 지원은 가장 먼저 HTTP/2 멀티플렉싱 프록시가 되도록 설계됐다. 내부적으로는 시스템 요소를 설명하는 데에 HTTP/2 용어가 사용된다. 예를 들어 HTTP 요청과 응답은 "스트림"이라고 부른다.

코덱 API는 서로 다른 통신 프로토콜을 스트림과 요청, 응답 등에 프로토콜 애그노스틱(agnostic) 형태로 변환하는 데 쓰인다.

HTTP/1.1의 경우 코덱은 프로토콜의 시리얼/파이프라이닝 기능을 HTTP/2에서 더 상위 계층처럼 보이는 것으로 변환한다. 즉, 코드의 대부분은 스트림이 HTTP/1.1, HTTP/2, HTTP/3 커넥션에서 온 것인지 이해할 필요가 없다는 의미다.
