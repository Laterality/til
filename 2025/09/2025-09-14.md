# 2025-09-14

## Envoy

### 아키텍처 개요

#### 업스트림 클러스터

##### 아웃라이어 감지

###### 방출 이벤트 로깅

선택사항으로 Envoy에 의해 아웃라이어 방출 이벤트가 발생할 수 있다. 전역 통계는 어떤 호스트가 어떤 이유로 방출됐는지 충분한 정보를 제공하지 않지 때문에 이는 일상적인 운영에 매우 유용하다. 로그는 [OutlierDetectionEvent.messages][api-envoy-data-cluster-data-outlier-detection-event]의 protobuf 기반 덤프로 구조화돼 있다. 방출 이벤트는 클러스터 관리자 [아웃라이어 감지 구성][api-bootstrap-cluster-manager-outlier-detection]에서 구성한다.

[api-envoy-data-cluster-data-outlier-detection-event]: https://www.envoyproxy.io/docs/envoy/latest/api-v3/data/cluster/v3/outlier_detection_event.proto#envoy-v3-api-msg-data-cluster-v3-outlierdetectionevent
[api-bootstrap-cluster-manager-outlier-detection]: https://www.envoyproxy.io/docs/envoy/latest/api-v3/config/bootstrap/v3/bootstrap.proto#envoy-v3-api-field-config-bootstrap-v3-clustermanager-outlier-detection
