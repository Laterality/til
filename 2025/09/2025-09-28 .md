# 2025-09-28

## Envoy

### 아키텍처 개요

#### 관측성

##### 트레이싱

###### 트레이스 시작 방법

요청을 처리하는 HTTP 커넥션 관리자는 [트레이싱][api-extensions-filters-tracing] 객체 집합을 가져야 한다. 트레이싱을 시작하는 방법은 몇 가지가 있다:

* [x-client-trace-id][config-http-http-connection-manager-http-header-maniuplation-x-client-trace-id] 헤더를 통한 외부 클라이언트의 의해.
* [x-envoy-force-trace][config-http-http-connection-manager-http-header-manipulation-x-envoy-force-trace] 헤더를 통한 내부 서비스에 의해.
* [random_sampling][config-http-http-connection-manager-runtime-tracing-random-sampling] 런타임 설정을 통한 무작위 샘플.

[api-extensions-filters-tracing]: https://www.envoyproxy.io/docs/envoy/latest/api-v3/extensions/filters/network/http_connection_manager/v3/http_connection_manager.proto#envoy-v3-api-msg-extensions-filters-network-http-connection-manager-v3-httpconnectionmanager-tracing
[config-http-http-connection-manager-http-header-maniuplation-x-client-trace-id]: https://www.envoyproxy.io/docs/envoy/latest/configuration/http/http_conn_man/headers#config-http-conn-man-headers-x-client-trace-id
[config-http-http-connection-manager-http-header-manipulation-x-envoy-force-trace]: https://www.envoyproxy.io/docs/envoy/latest/configuration/http/http_conn_man/headers#config-http-conn-man-headers-x-envoy-force-trace
[config-http-http-connection-manager-runtime-tracing-random-sampling]: https://www.envoyproxy.io/docs/envoy/latest/configuration/http/http_conn_man/runtime#config-http-conn-man-runtime-random-sampling
