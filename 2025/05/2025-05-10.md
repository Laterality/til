# 2025. 05. 10.

## Reactor 3 Reference Guide

### 고급 기능과 개념

#### 정리가 필요한 객체 처리

#### 4. 연산자 특화 핸틀러

연산의 일부로 값을 버퍼링하거나 수집하는 일부 연산자들은 수집된 데이터가 다운스트림으로 전파되지 않을 때를 위한 특정 핸들러를 가지고 있다. 정리가 필요한 타입에 이러한 연산자를 사용할 경우 이 핸들러에서 정리를 수행해야 한다.

예를 들어, `distinct`는 연산자가 종료될 때 요소가 구분되는지(distinct) 판단하는 데 사용하는 컬렉션을 비우기 위해 호출되는 콜백을 가지고 있다. 기본적으로 컬렉션은 `HashSet`이며 정리 콜백은 `HashSet::clear`다. 하지만 참조를 카운트하는 객체를 다룰 때는 `clear()`를 호출하기 전에 집합의 각 요소를 `release`하도록 핸들러를 바꿔야 할 수 있다.
