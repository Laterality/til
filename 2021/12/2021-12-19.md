## 2021. 12. 19.

#### gRPC

#### gRPC 핵심 개념 - RPC 생명주기(1)

이 섹션에서는 gRPC 클라이언트가 gRPC 서버 메서드를 호추하면 일어나는 일들을 살펴본다. 구현체의 상세 내용은 언어 별 페이지를 참고하라.

##### 단항 RPC

먼저 가장 단순한 RPC 유형을 보자. 클라이언트가 요청 하나를 보내면 응답 하나를 받는다.

1. 클라이언트가 스텁 메서드를 호출하면, 서버는 RPC 호출이 발생했음을 알게 된다. 이 호출에 대한 클라이언트의 [메타데이터][metadata], 메서드 이름, 적용 가능한 경우 명시된 [데드라인][deadline]이 전달된다.
2. 서버는 다음으로 (응답 전에 보내야 하는)자신의 초기 메타데이터를 바로 보내거나 클라이언트의 요청 메시지를 기다린다. 무엇이 먼저 일어나는지는 애플리케이션에 따라 다르다.
3. 서버가 클라이언트의 요청 메시지를 받으면, 응답을 생성하고 채워야(populate) 한다. 응답은 (성공한 경우) 상태 상세정보(상태 코드와 선택사항으로 상태 메시지) 및 선택 사항인 후속 메타데이터(trailing metadata)와 함께 클라이언트에게 반환된다.
4. 응답 상태가 OK이며, 클라이언트는 응답을 받고 클라이언트 측 호출을 완료한다.



[metadata]: https://grpc.io/docs/what-is-grpc/core-concepts/#metadata
[deadline]: https://grpc.io/docs/what-is-grpc/core-concepts/#deadlines