## 2020. 05. 19. 

### OpenTracing - 프레임워크 계측(3)

#### 서버 측 추적

서버 측 추적의 목적은 서버로의 요청의 수명을 추적하고 이를 클라이언트에 미리 만들어진 추적에 연결하는 것이다. 서버가 요청을 받았을 때 스팬을 생성하고 서버가 요청 처리를 끝냈을 때 스팬을 종료함으로써 이렇게 할 수 있다. 서버 요청을 추적하는 워크플로우는 다음과 같다:

* 서버가 요청을 받음
  * 프로세스 간 전송(HTTP, etc.)으로부터 현재 추적 상태를 추출
  * 스팬을 시작
  * 현재 추적 상태를 저장
* 서버가 요청 처리를 마침/응답을 보냄
  * 스팬을 종료

이 워크플로우는 요청 처리에 달려있기 때문에 프레임워크의 요청과 응답 처리를 어떻게 변경하는지(필터, 미들웨어, 구성 가능한 스택 혹은 다른 어떤 메커니즘을 통해) 알아야 할 것이다.