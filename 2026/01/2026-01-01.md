# 2026-01-01

## Envoy

### 아키텍처 개요

#### 고급

##### Wasm

###### 외부 함수

Envoy는 [proxy_call_foreign_function][proxy-wasm-spec-abi-proxy-call-foreign-function] 바이너리 인터페이스를 통해 추가적인 Proxy-Wasm ABI를 통한 기능을 제공한다:

- `sign`은 암호학적 서명을 생성한다.
- `verify_signature`는 암호학적 서명을 확인한다.
- `compress`는 `zlib` 압축을 적용한다.
- `uncompress`은 `zlib` 압축 해제를 적용한다.
- `declare_property`는 타입 정보와 함께 자리위치자(placeholder) 상태 객체를 생성한다.
- `set_envoy_filter_state`는 필터 상태 객체를 설정한다.
- `clear_route_cache`는 선택된 라우트를 갱신한다.
- `expr_create`는 평가를 위한 CEL 표현식을 컴파일한다.
- `expr_evaluate`는 컴파일된 CEL 표현식을 평가한다.
- `expr_delete`는 컴파일된 CEL 표현식을 삭제한다.

[proxy-wasm-spec-abi-proxy-call-foreign-function]: https://github.com/proxy-wasm/spec/tree/main/abi-versions/v0.2.1#proxy_call_foreign_function
