# 2026-01-04

## Envoy

### 아키텍처 개요

#### 고급

##### 동적 모듈

###### 호환성

동적 모듈은 런타임에 로드되기 때문에 이를 로드하는 Envoy와 ABI가 호환돼야 한다.

Envoy의 동적 모듈은 Lua, Wasm 또는 다른 외부 처리자와 같은 Envoy의 다른 확장 메커니즘보다 더 엄격한 호환성 요구사항을 갖는다. ABI가 Envoy의 내부와 밀접하게 엮여있어 ABI를 안정화하는 것은 어렵다. 우리의 최종 목표가 더로 다른 버전의 Envoy 간에 사용될 수 있는 안정적인 ABI를 갖는 것임에도 불구하고 현재는 서로 다른 버전 사이에 어떤 호환성도 보장할 수 없다.

다르게 말하면 동적 모듈은 동적 모듈을 로드하는 Envoy 바이너리와 같은 SDK로 빌드돼야 한다. SDK는 Envoy 저장소 내부에 위치하므로 동일한 Envoy의 커밋 해시나 릴리즈 태그를 사용하는 것이 호환성을 보장하는 최선의 방법이다.
