# 2026-03-02

## OpenTelemtry

### 개념

#### 컨텍스트 전파

##### 커스텀 컨텍스트 전파

대부분의 유스 케이스에서는 [계측 라이브러리나 네이티브 라이브러리 계측][otel-concepts-instrumentation-libraries]이 컨텍스트 전파를 처리한다는 것을 알게 될 것이다. 이런 지원이 없는 일부 경우에는 직접 지원이 필요하다. 이를 위해 이전에 언급한 전파자 API를 활용한다:

- 발신자 측에서는 컨텍스트가 HTTP 헤더와 같은 운송자(carrier)에 [주입된다][otel-specs-context-api-propagators-inject]. 다른 경우에는 요청에 대한 메타데이터를 저장할 장소를 찾아야 한다.
- 수신자 측에서는 운송자로부터 컨텍스트가 [추출된다][otel-specs-context-api-propagators-extract]. 마찬가지로 HTTP의 경우 헤더에서 조회한다. 그 외의 경우에는 발신자 측과 함께 컨텍스트를 저장할 곳을 선정해야 한다.

메타데이터를 위한 전용 필드나가 없는 프로토콜에서 컨텍스트를 전파하는 것이 가능하긴 하지만 수신자 측에서 데이터를 처리하기 전에 이를 추출하고 제거하는지 확인하라, 그렇지 않으면 미정의 동작으로 이어질 수 있다.

다음 언어에 대한 단계별 커스텀 컨텍스트 전파 튜토리얼이 있다:

- [Erlang][otel-lang-erlang-popagation-manual-context-propagation]
- [JavaScript][otel-lang-js-popagation-manual-context-propagation]
- [PHP][otel-lang-php-popagation-manual-context-propagation]
- [Python][otel-lang-python-popagation-manual-context-propagation]

[otel-concepts-instrumentation-libraries]: https://opentelemetry.io/docs/concepts/instrumentation/libraries/****
[otel-specs-context-api-propagators-inject]: https://opentelemetry.io/docs/specs/otel/context/api-propagators/#inject
[otel-specs-context-api-propagators-extract]: https://opentelemetry.io/docs/specs/otel/context/api-propagators/#extract
[otel-lang-erlang-popagation-manual-context-propagation]: https://opentelemetry.io/docs/languages/erlang/propagation/#manual-context-propagation
[otel-lang-js-popagation-manual-context-propagation]: https://opentelemetry.io/docs/languages/js/propagation/#manual-context-propagation
[otel-lang-php-popagation-manual-context-propagation]: https://opentelemetry.io/docs/languages/php/propagation/#manual-context-propagation
[otel-lang-python-popagation-manual-context-propagation]: https://opentelemetry.io/docs/languages/python/propagation/#manual-context-propagation
