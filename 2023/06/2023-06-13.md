# 2023. 06. 13.

## Elasticsearch(7.10)

### 쿼리 DSL - 지리(Geo) 쿼리

#### Geo-bounding box 쿼리

##### 정확도에 관한 참고 사항

지리점은 정확도가 제한적이고 끝수는 인덱스 시점에 버린다. 쿼리 시점에는 경계 상자의 상한의 끝수를 버리지만 하한은 반올림한다. 결과적으로 낮은 경계의 점들(경계 상자의 하단과 좌측 모서리)는 반올림 오차로 인해 경계 상자 안에 들어가지 않을 수 있다. 같은 이유로 높은 경계(상단과 우측 모서리)는 모서리의 약간 바깥에 있음에도 불구하고 쿼리에 의해 선택될 수 있다. 반올림 오차는 위도에서 4.20e-8, 경도에서 8.39e-8 미만으로, 적도에서도 약 1cm 오차로 환산된다.

