# 2023. 10. 12.

## Elasticsearch(7.10)

### 집계 - 버킷 집계

#### 자동 주기(auto interval) 날짜 히스토그램 집계

##### 주기(interval)

반환된 버킷의 주기는 집계에서 수집된 데이터에 따라 선택되므로 반환되는 버킷의 수는 요청된 숫자와 같거다 더 적다. 반환될 수 있는 주기는 다음과 같다:

| 단위    | 주기                         |
| ------- | ---------------------------- |
| seconds | 1, 5, 10, 30의 배수          |
| minutes | 1, 5, 10, 30의 배수          |
| hours   | 1, 3, 12의 배수              |
| days    | 1, 7의 배수                  |
| months  | 1, 3의 배수                  |
| years   | 1, 5, 10, 20, 50, 100의 배수 |

최악의 경우, 일 단위(daily) 버킷의 수가 요청된 버킷 수에 비해 너무 많으면 반환된 버킷은 요청된 버킷의 1/7 번째가 될 것이다.