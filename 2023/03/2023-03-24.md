# 2023. 03. 24.

## Elasticsearch(7.10)

### 데이터 검색 - 검색 결과 정렬

#### 매핑되지 않은 값 무시

기본적으로 검색 요청은 필드와 연관된 매핑이 없으면 실패한다. `unmapped_type` 옵션으로 매핑이 없는 필드로는 정렬하지 않도록 할 수 있다. 이 파라미터의 값은 생략할 정렬 값을 결정하는 데 사용된다. 아래는 사용 방법에 대한 예시이다:

```http
GET /_search
{
  "sort" : [
    { "price" : {"unmapped_type" : "long"} }
  ],
  "query" : {
    "term" : { "product" : "chocolate" }
  }
}
```

쿼리한 인덱스가 `price`에 대한 매핑을 가지고 있지 않으면 Elasticsearch는 `long` 타입의 매핑이 있고 인덱스의 모든 도큐먼트가 이 필드에 대한 값을 가지고 있지 않은 것으로 처리한다.

****
