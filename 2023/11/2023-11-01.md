# 2023. 11. 01.

## Elasticsearch(7.10)

### 집계 - 버킷 집계

#### Date histogram 집계

##### Date histogram 사용 참고

모든 경우에 지정된 끝 시간은 존재하지 않고 실제 끝 시간은 지정된 끝 이후에 가능한 가장 가까운 시간이다.

널리 분산된 애플리케이션은 또한 12:01 A.M.에 일광 절약 시간을 시작하거나 끝내는 경우와 같은 상황도 고려해야 하므로, 1년에 한 번 토요일의 59분에 이어 일요일에 1분을 추가로 사용해 끝날 수 있으며, 국가가 국제 날짜선 사이를 이동하기로 결정한 국가도 고려해야 한다. 이러한 상황은 불규칙적인 타임존 오프셋을 쉽게 만들 수 있다.

항상 그렇듯, 특히 시간 변경 사건을 철저하게 테스트하면 시간 주기 지정을 의도한 대로 동작함을 보장할 것이다.

> 예기치 않은 결과를 피하려면 연결된 모든 서버와 클라이언트가 믿을만한 네트워크 시간 서비스와 동기화해야 한다.

> 소수 시간 값은 지원되지 않지만 다른 시간 단위로 이동해 처리할 수 있다(e.g., `1.5h` 대신 `90m`)

> [시간 단위][time-unit] 파싱에서 지원되는 약어를 사용해 시간 값을 지정할 수도 있다.



[time-unit]: https://www.elastic.co/guide/en/elasticsearch/reference/7.10/common-options.html#time-units