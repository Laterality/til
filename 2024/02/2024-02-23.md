# 2024. 02. 23.

## Elasticsearch(7.10)

### 집계 - 지표 집계

#### Matrix stats 집계

##### 다중 값 필드

`matrix_stats` 집계는 각 도큐먼트 필드를 독립된 샘플로 취급한다. `mode` 파라미터는 배열이나 다중 값 필드에 대해 어떤 값을 집계가 사용할지 제어한다. 이 파라미터는 다음 중 하나를 받는다:

| 값       | 설명                                |
| -------- | ----------------------------------- |
| `avg`    | (기본값) 모든 값의 평균을 사용한다. |
| `min`    | 가장 작은 값을 사용한다.            |
| `max`    | 가장 큰 값을 사용한다.              |
| `sum`    | 모든 값의 합을 사용한다.            |
| `median` | 모든 값의 중앙값을 사용한다.        |