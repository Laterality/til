# 2024. 12. 12.

## OpenID Connect Core 1.0

### 14. 문자열 연산

일부 OpenID Connect 메시지 처리에서는 메시지의 값을 알려진 값과 비교해야 한다. 예를 들어, UserInfo 엔드포인트에서 반환된 클레임 이름들을 `sub`와 같은 특정 클레임 이름들과 비교하는 경우가 있다. 하지만 [유니코드][unicode] 문자열 비교시 고려해야 할 보안 사항들이 있다.

따라서, JSON 문자열과 다른 유니코드 문자열 사이의 비교는 아래와 같이 **수행돼야 한다**:

1. JSON에 적용된 이스케이프를 제거해 유니코드 코드 포인트 배열을 만든다.
2. JSON 문자열이든 비교 대상인 문자열이든 유니코드 [정규화][unicode-annex-15]를 **수행해선 안된다**.
3. 두 문자열 사이의 비교는 유니코드 코드 포인트와 코드 포인트의 동등성(equality) 비교로 **수행돼야 한다**.

이 명세 몇 군데에서 공백으로 구분된 문자열 목록을 사용한다. 이러한 모든 경우 단일 공백 문자(0x20)이 구분자로 **사용돼야 한다**.



[unicode]: https://www.unicode.org/versions/Unicode16.0.0/
[unicode-annex-15]: https://www.unicode.org/reports/tr15/