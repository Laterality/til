# 2024. 10. 21.

## OpenID Connect Core 1.0

### 5. 클레임

#### 5.2. 클레임 언어와 스크립트

사람이 읽을 수 있는 클레임 값과 사람이 읽을 수 있는 값을 참조하는 클레임 값은 여러 언어와 스크립트로 **표현될 수 있다**. 언어와 스크립트를 지정하기 위해, [BCP47][rfc-5646] 언어 태그를 `#` 문자로 구분해 멤버 이름에 추가한다. 예를 들어 `family_name#ja-Kana-JP`는 일본어의 가타가나 성(family name)을 나타내는데, `family_name#ja-Hani-JP`로 표현된 같은 이름의 한자 표현의 소리(phonetics)를 표현하는 데 쓰인다. 또다른 예시로, 언어가 지정되지 않은 웹 사이트와 독일어 웹 사이트를 나타내는 `website`와 `website#de` 클레임이 둘 다 반환될 수 있다.

클레임 이름은 대소문자를 구분하므로, 클레임 이름에 쓰이는 언어 태그는 IANA "언어 서브태그 레지스트리" [[IANA.Language]][iana-language]에 등록된 대소문자대로 사용하는 것을 강력히 **권장한다**. 특히, 일반적으로 언어 이름은 소문자를 사용하고, 지역 이름은 대문자를 사용하고, 스크립트는 혼합된 대소문자를 사용한다. 하지만 BCP47 언어 태그 값은 대소문자를 구분하지 않으므로 구현체는 언어 태그 값이 대소문자를 구분하지 않는 방식으로 전달된 것으로 **해석하는 것이 좋다**.

BCP47의 권고사항에 따라, 클레임의 언어 태그 값은 필요한 만큼 **구체적인 것이 좋다**. 예를 들어, 많은 경우에 `fr-CA`나 `fr-FR` 대신  `fr`을 사용하는 것으로 충분할 수 있다. 가능한 곳에서는 OP들이 요청된 클레임 로케일을 자신이 가진 클레임과 **일치시키려고 하는 것이 좋다**. 예를 들어, 클라이언트가 `de`(독일어) 언어 태그로 클레임을 요청하고 OP가 `de-CH`(스위스 독일어)를 가지고 있고 다른 일반(generic) 독일어 값을 가지고 있지 않다면, OP가 스위스 독일어 값을 클라이언트에게 반환하는 것이 적합할 것이다. (이는 클라이언트를 단순화하기 위해 의도적으로 언어 태그 일치의 여러 복잡성을 OP로 이동시킨다.)

OpenID Connect는 다음 인가 요청 파라미터를 정의해 반환된 클레임에 선호하는 언어와 스크립트를 지정할 수 있게 한다:

* claims_locales

  **선택사항**. 최종 사용자가 반환된 클레임에 선호하는 언어와 스크립트, [BCP47][rfc-5646] 언어 태그 값을 공백으로 구분한 목록으로 나타내며, 순서는 선호도 순서이다. OpenID 제공자가 요청된 로케일 전부 또는 일부를 지원하지 않는 경우 오류를 **발생시키지 않는 것이 좋다**.

최종 사용자와 클라이언트가 하나의 언어와 스크립트 집합만 요청할 방법으로 OP가 `claims_locales` 파라미터 또는 다른 방법 중 하나를 결정하면 OP가 이 언어와 스크립트를 채용한 경우 언어 태그 없이 클레임을 **반환하는 것을 권장한다**. 또한 클라이언트는 언어 태그를 사용하는 클레임을 처리하고 활용할 수 있는 형태로 **작성하는 것을 권장한다**.



[rfc-5646]: https://www.rfc-editor.org/rfc/rfc5646.html
[iana-language]: https://www.iana.org/assignments/language-subtag-registry/language-subtag-registry