# 2024. 10. 16.

## OpenID Connect Core 1.0

### 4. 서드 파티로부터 로그인 개시

어떤 경우에는 로그인 흐름이 신뢰 당사자가 아닌 OpenID 제공자나 다른 당사자에 의해 개시된다. 이 경우, 개시자는 자신의 로그인 개시 엔드포인트에서 RP로 리다이렉트해 RP가 지정된 OP로 인증 요청을 보내도록 요청한다. 로그인 개시 엔드포인트는 RP의 기본 랜딩 페이지가 아닌 RP의 다른 페이지가 될 수 있다. [OpenID Connect Dynamic Client Registration 1.0][openid-registration]을 지원하는 RP들은 `initiate_login_url` 등록 파라미터를 사용해 이 엔드포인트 값을 등록한다.

로그인 요청을 개시하는 당사자는 다음 파라미터를 전달해 RP의 로그인 개시 엔드포인트로 리다이렉트한다:

* iss

  **필수**. RP가 인증 요청을 보내는 OP의 발급자 식별자. 이 값은 `https` 스킴을 사용하는 **URL이어야 한다**.

* login_hint

  **선택사항**. 인증될 최종 사용자에 대한 인가 서버로의 힌트. 이 문자열 값 파라미터의 의미는 OP의 재량이다. 흔한 유스 케이스에서는 RP가 OP에 인증을 요청하기 전에 수집한 이메일 주소, 전화번호 또는 유저네임을 갖는다. 예를 들어, RP가 최종 사용자에게 이메일 주소(또는 다른 식별자)를 물어본 다음 이를 힌트로 OpenID 제공자에 전달하는 데 쓰일 수 있다. 힌트 값은 디스커버리에 제공된 값과 일치시키는 것을 **권장한다**. ID Token의 `sub` 클레임을 힌트로 사용하거나 요청된 인증에 대한 다른 종류의 정보를 사용할 **수도 있다**.

* target_link_uri

  **선택사항**. 인증 이후 RP가 리다이렉트하도록 요청할 URL. 외부 사이트에 대한 개방 리다이렉터(redirector)로 쓰이는 것을 막기 위해 RP들은 `target_link_uri` 값을 **검증해야 한다**.

파라미터는 HTTP `GET` 메서드를 사용해 쿼리 파라미터로 전달되거나 사용자 에이전트에서  HTTP `POST` 메서드로 자동으로 발송되는 `HTML` 폼 값으로 전달될 수 있다.

확장에서 정의된 경우 다른 파라미터가 **보내질 수 있다**. 클라이언트는 이해할 수 없는 파라미터를 **무시해야 한다**.

클라이언트는 최종 사용자가 클릭재킹과 같은 공격에 대한 지식 없이 서드 파티 사이트에서 로그인되는 것을 방지하기 위해 프레임 버스팅과 다른 기법들을 **채택하는 것이 좋다**. 더 자세한 내용은 섹션 [RFC 6819][rfc-6819]의 섹션 4.4.1.9를 참고하라.



[openid-registration]: https://openid.net/specs/openid-connect-registration-1_0.html
[rfc-6819]: https://www.rfc-editor.org/rfc/rfc6819.html